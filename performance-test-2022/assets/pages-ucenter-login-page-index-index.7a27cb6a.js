import{D as e,a1 as o,a2 as n,W as i,V as a,G as t,X as s,o as l,c as r,w as g,b as p,d as c,t as d,B as u,F as h,f as m,g as f,l as y,i as k,I as L,m as _}from"./index.45e10b73.js";import{_ as b}from"./uni-agreements.8ffb9f86.js";import{r as x}from"./uni-app.es.af6e5358.js";import{_ as S}from"./uni-quick-login.e139723e.js";import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";import"./loginSuccess.4a3b8f3c.js";var j=$({data:()=>({type:"",phone:"",agree:!1}),computed:{loginConfig:()=>e().globalData.config.router.login,isPhone(){return/^1\d{10}$/.test(this.phone)},imgSrc(){return"/static/login-index/"+this.type+".png"}},onLoad(e){this.type=e.type,o("setLoginType",(e=>{this.type=e}))},onUnload(){n("setLoginType")},onReady(){},methods:{quickLogin(){this.$refs.uniQuickLogin.login_before(this.type)},sendShortMsg(){if(!this.agree)return i({title:this.$t("common.noAgree"),icon:"none"});a(),t({url:"/pages/ucenter/login-page/phone-code/phone-code?phoneNumber="+this.phone,complete:()=>{s()}})},toPwdLogin(){t({url:"../pwd-login/pwd-login"})}}},[["render",function(e,o,n,i,a,t){const s=m,$=f,j=x(y("uni-agreements"),b),q=k,w=L,C=_,P=x(y("uni-quick-login"),S);return l(),r(q,{class:"content"},{default:g((()=>[p(s,{class:"title"},{default:g((()=>[c(d(e.$t("login.phoneLogin")),1)])),_:1}),["apple","weixin"].includes(a.type)?(l(),r(q,{key:0,class:"quickLogin"},{default:g((()=>[p($,{onClick:t.quickLogin,src:t.imgSrc,mode:"widthFix",class:"quickLoginBtn"},null,8,["onClick","src"]),p(j,{onSetAgree:o[0]||(o[0]=e=>a.agree=e)})])),_:1})):(l(),u(h,{key:1},[p(w,{type:"number",class:"input-box",inputBorder:!1,modelValue:a.phone,"onUpdate:modelValue":o[1]||(o[1]=e=>a.phone=e),maxlength:"11",placeholder:e.$t("common.phonePlaceholder")},null,8,["modelValue","placeholder"]),p(j,{onSetAgree:o[2]||(o[2]=e=>a.agree=e)}),p(C,{class:"get-code",disabled:!t.isPhone||!a.agree,type:t.isPhone&&a.agree?"primary":"default",onClick:t.sendShortMsg},{default:g((()=>[c(d(e.$t("login.getVerifyCode")),1)])),_:1},8,["disabled","type","onClick"]),p(s,{class:"tip"},{default:g((()=>[c(d(e.$t("login.phoneLoginTip")),1)])),_:1})],64)),p(P,{agree:a.agree,ref:"uniQuickLogin"},null,8,["agree"])])),_:1})}],["__scopeId","data-v-6a48c716"]]);export{j as default};
